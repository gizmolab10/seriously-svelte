# Next-Previous Feature

## Problem

Bottom prev/next navigation was wasted space. Sidebar toggle was fighting VitePress's auto-expand reactivity.

## Goal

Move prev/next to navbar. Make sidebar headings toggle reliably with state persistence.

## Approach

### Prev/Next
- Created `PrevNext.vue` using VitePress's `usePrevNext` composable
- Created `Layout.vue` to inject into `nav-bar-content-after` slot
- CSS hides original footer pager and reorders navbar via flex order

### Sidebar Toggle
- VitePress `watchPostEffect` auto-expands active sections - can't override Vue state
- Solution: CSS layer with `data-user-collapsed`/`data-user-expanded` attributes
- `!important` overrides VitePress styles
- localStorage persists state across sessions
- Hidden carets since headings toggle on click

## Resume Points

ðŸ”– DONE: Prev/next in navbar, sidebar toggle with localStorage persistence. All working.
